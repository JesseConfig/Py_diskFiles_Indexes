# python实现文件搜索工具（简易版）：

 [转载自 https://www.cnblogs.com/blsx/p/11239679.html](https://www.cnblogs.com/blsx/p/11239679.html)

1.UI线程负责界面的绘制与更新，如果在UI线程中进行耗时操作，会影响界面的流畅性，所以需要异步线程。 

 此时的问题在于UI的主线程与异步线程的通信问题，为什么一定要两个线程通信？

因为在大多数GUI界面编程中，异步线程都是不能对当前界面进行操作更新的，否则会引起界面混乱。

可以简单的理解成  如果异步线程也操作主界面，则两个线程对相同资源进行操作，就会导致混乱。

接下来的问题是tkinter中没有提供接口进行线程通信，因此我们通过消息队列的方式来同步线程，用到的类为Queue。

项目中当在消息队列中检索到消息为元组（1， ）时，说明子线程（扫描）已经结束了，告知主线程可以结束子线程了。

 

2.扫描文件夹时需要将所选文件夹中的所有文件遍历一遍，发现python中提供了方法os.walk(path), 可以直接达到这一效果，所以说python在写代码时确实提供了方便。

 

3.该磁盘搜索工具用到的原理是将文件路径存到数据库中，再进行检索。 选用的数据库为sqlite，已经可以满足该项目的要求。在主线程创建数据库，子线程操作数据库，有可能出现问题，因此设置check_same_thread = false 来拒绝多线程的访问。

 

4.在进行GUI编程时，打算在扫描等待时添加一个进度条显示窗口，也就需要多窗口，用到了toplevel，表现为一个弹出式窗口，在使用toplevel时，要注意首先需要一个根窗口。